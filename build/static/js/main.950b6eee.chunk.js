(this["webpackJsonpr3f-instanced-colors"]=this["webpackJsonpr3f-instanced-colors"]||[]).push([[0],{24:function(e,t,a){e.exports=a(33)},32:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var r=a(3),n=a(0),s=a(8),o=a.n(s),c=a(1),i=a.n(c),l=a(5),u=a(14),m=a(22),h=a(9),f=a(15),d=a(21),p=a(23),b=a(16);function g(){const e=Object(c.useRef)(),t=Object(l.d)(),a=t.scene,r=t.gl,s=t.size,o=t.camera,u=Object(c.useMemo)(()=>new n.Vector2(s.width,s.height),[s]);return Object(c.useEffect)(()=>{e.current.setSize(s.width,s.height)},[s]),Object(l.c)(()=>e.current.render(),2),i.a.createElement("effectComposer",{ref:e,args:[r]},i.a.createElement("renderPass",{attachArray:"passes",scene:a,camera:o}),i.a.createElement("sSAOPass",{attachArray:"passes",args:[a,o],kernelRadius:.6,maxDistance:.03}),i.a.createElement("unrealBloomPass",{attachArray:"passes",args:[u,2,1,.991]}),i.a.createElement("shaderPass",{attachArray:"passes",args:[b.a],"material-uniforms-resolution-value":[1/s.width,1/s.height],renderToScreen:!0}))}Object(l.b)({EffectComposer:m.a,ShaderPass:h.a,RenderPass:f.a,SSAOPass:d.a,UnrealBloomPass:p.a});a(32);const E=new n.Object3D,O=new n.Color,y=new Array(1e3).fill().map(()=>u[17][Math.floor(5*Math.random())]);function M(){const e=Object(c.useState)(),t=Object(r.a)(e,2),a=t[0],s=t[1],o=Object(c.useMemo)(()=>Float32Array.from(new Array(1e3).fill().flatMap((e,t)=>O.set(y[t]).toArray())),[]),u=Object(c.useRef)(),m=Object(c.useRef)();return Object(c.useEffect)(()=>{m.current=a},[a]),Object(l.c)(e=>{const t=e.clock.getElapsedTime();u.current.rotation.x=Math.sin(t/4),u.current.rotation.y=Math.sin(t/2);let r=0;for(let n=0;n<10;n++)for(let e=0;e<10;e++)for(let s=0;s<10;s++){const c=r++;E.position.set(5-n,5-e,5-s),E.rotation.y=Math.sin(n/4+t)+Math.sin(e/4+t)+Math.sin(s/4+t),E.rotation.z=2*E.rotation.y,a!==m.current&&(O.set(c===a?"white":y[c]).toArray(o,3*c),u.current.geometry.attributes.color.needsUpdate=!0);const i=c===a?2:1;E.scale.set(i,i,i),E.updateMatrix(),u.current.setMatrixAt(c,E.matrix)}u.current.instanceMatrix.needsUpdate=!0}),i.a.createElement("instancedMesh",{ref:u,args:[null,null,1e3],onPointerMove:e=>s(e.instanceId),onPointerOut:e=>s(void 0)},i.a.createElement("boxBufferGeometry",{attach:"geometry",args:[.7,.7,.7]},i.a.createElement("instancedBufferAttribute",{attachObject:["attributes","color"],args:[o,3]})),i.a.createElement("meshPhongMaterial",{attach:"material",vertexColors:n.VertexColors}))}o.a.render(i.a.createElement(l.a,{gl:{antialias:!1,alpha:!1},camera:{position:[0,0,15],near:5,far:20},onCreated:({gl:e})=>e.setClearColor("lightpink")},i.a.createElement("ambientLight",null),i.a.createElement("pointLight",{position:[150,150,150],intensity:.55}),i.a.createElement(M,null),i.a.createElement(g,null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.950b6eee.chunk.js.map